import streamlit as st
import pandas as pd
import plotly.graph_objects as go
import numpy as np

# -----------------------------------------------------------------------------
# 1. í˜ì´ì§€ ì„¤ì • & ìŠ¤íƒ€ì¼
# -----------------------------------------------------------------------------
st.set_page_config(
    page_title="Career Compass Pro",
    page_icon="ğŸ§­",
    layout="wide",
    initial_sidebar_state="expanded"
)

# ê¹”ë”í•œ ì¹´ë“œ UIë¥¼ ìœ„í•œ CSS
st.markdown("""
<style>
    .stTabs [data-baseweb="tab-list"] { gap: 10px; }
    .stTabs [data-baseweb="tab"] {
        height: 50px;
        white-space: pre-wrap;
        background-color: #f0f2f6;
        border-radius: 5px 5px 0px 0px;
        gap: 1px;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .stTabs [aria-selected="true"] {
        background-color: #ffffff;
        border-top: 2px solid #4285f4;
    }
    .info-box {
        background-color: #e8f0fe;
        padding: 15px;
        border-radius: 10px;
        border-left: 5px solid #4285f4;
        margin-bottom: 10px;
    }
</style>
""", unsafe_allow_html=True)

# -----------------------------------------------------------------------------
# 2. ë°ì´í„° ì„¼í„° (ëª¨ë“  ë°ì´í„° í†µí•©)
# -----------------------------------------------------------------------------
@st.cache_data
def load_data():
    # A. ê¸°ë³¸ ì§ì—… ìŠ¤íƒ¯ ë°ì´í„°
    df = pd.DataFrame({
        'ì§ì—…êµ°': [
            'ì „ëµ ì»¨ì„¤í„´íŠ¸', 'ì™¸êµ­ê³„ íˆ¬ìì€í–‰(IB)', 'ëŒ€í˜• ë¡œíŒ ë³€í˜¸ì‚¬', 'ê³µì¸íšŒê³„ì‚¬(Big4)', 'ë„¤ì¹´ë¼ì¿ ë°° ê°œë°œì', 
            '7/9ê¸‰ ê³µë¬´ì›', '5ê¸‰ í–‰ì •ê³ ì‹œ ì‚¬ë¬´ê´€', 'ì´ˆë“±/ì¤‘ë“± êµì‚¬', 'ì˜ì‚¬ (ì „ë¬¸ì˜)', 'ì•½ì‚¬', 
            'ë°©ì†¡êµ­ PD', 'í•­ê³µê¸° ì¡°ì¢…ì‚¬(íŒŒì¼ëŸ¿)', 'ë°˜ë„ì²´ ì—”ì§€ë‹ˆì–´', 'ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸', 'ìœ ë‹ˆì½˜ ìŠ¤íƒ€íŠ¸ì—… ì§ì›'
        ],
        'Holland_Code': [
            'EC', 'EC', 'EI', 'CE', 'IR', 
            'CS', 'ES', 'SA', 'IS', 'SC', 
            'AE', 'RI', 'RI', 'IR', 'EI'
        ],
        'Money': [50, 55, 50, 40, 35, 15, 25, 15, 45, 30, 25, 45, 45, 45, 25],
        'WLB': [5, 5, 5, 10, 20, 35, 10, 30, 10, 30, 5, 15, 10, 20, 15],
        'Culture': [10, 5, 10, 10, 15, 5, 10, 15, 10, 10, 30, 10, 10, 15, 35],
        'Location': [20, 20, 20, 20, 10, 10, 25, 10, 15, 10, 20, 10, 15, 10, 10],
        'Stability': [15, 15, 15, 20, 20, 35, 30, 30, 20, 20, 20, 20, 20, 10, 15]
    })
    
    # B. ìƒì„¸ ê°€ì´ë“œ ë°ì´í„° (ë¡œë“œë§µ + ì „ê³µ + ê³ êµê³¼ëª©)
    # ë°ì´í„°ê°€ ì—†ëŠ” ì§ì—…ì„ ì„ íƒí–ˆì„ ë•Œë¥¼ ëŒ€ë¹„í•´ ì£¼ìš” ì§ì—… ìœ„ì£¼ë¡œ ì‘ì„±
    career_guide = {
        "ëŒ€í˜• ë¡œíŒ ë³€í˜¸ì‚¬": {
            "majors": ["ì •ì¹˜ì™¸êµí•™ê³¼", "ê²½ì œí•™ê³¼", "ììœ ì „ê³µí•™ë¶€", "ë²•í•™ê³¼(ë¡œìŠ¤ì¿¨ ì—†ëŠ” ëŒ€í•™)"],
            "high_school": ["âš–ï¸ ì •ì¹˜ì™€ ë²•", "ğŸ’° ê²½ì œ", "ğŸŒ ì„¸ê³„ì‚¬", "ğŸ—£ï¸ í™”ë²•ê³¼ ì‘ë¬¸"],
            "roadmap": [
                {"step": "1ï¸âƒ£ í•™ë¶€ ë‹¨ê³„ (GPA ê´€ë¦¬)", "desc": "âœ”ï¸ ëª©í‘œ í•™ì : 95ì  ì´ìƒ (ìµœìš°ì„ )\nâœ”ï¸ í† ìµ: P/F ì¶”ì„¸ì´ë‚˜ ê³ ë“ì  ê¶Œì¥"},
                {"step": "2ï¸âƒ£ LEET (ë²•í•™ì ì„±ì‹œí—˜)", "desc": "âœ”ï¸ ì–¸ì–´ì´í•´/ì¶”ë¦¬ë…¼ì¦ ì‚¬ê³ ë ¥ í›ˆë ¨\nâœ”ï¸ ë…ì„œëŸ‰ê³¼ ë…¼ë¦¬ì  ì‚¬ê³ ê°€ í•µì‹¬"},
                {"step": "3ï¸âƒ£ ë¡œìŠ¤ì¿¨ ì…í•™ & ë³€í˜¸ì‚¬ ì‹œí—˜", "desc": "âœ”ï¸ ë¡œìŠ¤ì¿¨ 3ë…„ ê³¼ì • ìˆ˜ë£Œ\nâœ”ï¸ ë³€í˜¸ì‚¬ ì‹œí—˜ í•©ê²© í›„ ì‹¤ë¬´ ìˆ˜ìŠµ"}
            ]
        },
        "5ê¸‰ í–‰ì •ê³ ì‹œ ì‚¬ë¬´ê´€": {
            "majors": ["í–‰ì •í•™ê³¼", "ì •ì±…í•™ê³¼", "ê²½ì œí•™ê³¼", "ì •ì¹˜ì™¸êµí•™ê³¼"],
            "high_school": ["ğŸ’° ê²½ì œ", "âš–ï¸ ì •ì¹˜ì™€ ë²•", "ğŸ‡°ğŸ‡· í•œêµ­ì‚¬", "ğŸ“Š ì‚¬íšŒë¬¸í™”"],
            "roadmap": [
                {"step": "1ï¸âƒ£ ì§„ì… ê²°ì • & PSAT", "desc": "âœ”ï¸ 1ì°¨: PSAT(ì–¸ì–´/ìë£Œ/ìƒí™©)\nâœ”ï¸ í•œêµ­ì‚¬ 1ê¸‰, í† ìµ 700ì  í•„ìˆ˜"},
                {"step": "2ï¸âƒ£ 2ì°¨ ì „ê³µ ë…¼ìˆ ", "desc": "âœ”ï¸ ê²½ì œí•™, í–‰ì •ë²•, í–‰ì •í•™, ì •ì¹˜í•™ ë“±\nâœ”ï¸ ë…¼ë¦¬ì  ë‹µì•ˆ ì‘ì„± í›ˆë ¨ í•„ìˆ˜"},
                {"step": "3ï¸âƒ£ 3ì°¨ ë©´ì ‘", "desc": "âœ”ï¸ ê³µì§ê°€ì¹˜ê´€, ê·¸ë£¹ í† ì˜, ê°œì¸ ë°œí‘œ"}
            ]
        },
        "ë„¤ì¹´ë¼ì¿ ë°° ê°œë°œì": {
            "majors": ["ì»´í“¨í„°ê³µí•™ê³¼", "ì†Œí”„íŠ¸ì›¨ì–´í•™ê³¼", "ì •ë³´í†µì‹ ê³µí•™ê³¼", "ìˆ˜í•™ê³¼"],
            "high_school": ["ğŸ“ ë¯¸ì ë¶„", "âš›ï¸ ë¬¼ë¦¬í•™", "ğŸ’» ì •ë³´", "ğŸ“ˆ í™•ë¥ ê³¼ í†µê³„"],
            "roadmap": [
                {"step": "1ï¸âƒ£ CS ê¸°ì´ˆ & ì–¸ì–´ ìŠµë“", "desc": "âœ”ï¸ ìë£Œêµ¬ì¡°, ì•Œê³ ë¦¬ì¦˜, ë„¤íŠ¸ì›Œí¬\nâœ”ï¸ Python, Java ì¤‘ í•˜ë‚˜ ê¹Šê²Œ íŒŒê¸°"},
                {"step": "2ï¸âƒ£ í”„ë¡œì íŠ¸ & í˜‘ì—…", "desc": "âœ”ï¸ Git/Github ì‚¬ìš© í•„ìˆ˜\nâœ”ï¸ ì‹¤ì œ ì‘ë™í•˜ëŠ” ì›¹/ì•± ì„œë¹„ìŠ¤ ë°°í¬ ê²½í—˜"},
                {"step": "3ï¸âƒ£ ì½”ë”©í…ŒìŠ¤íŠ¸ & ê¸°ìˆ ë©´ì ‘", "desc": "âœ”ï¸ ë°±ì¤€/í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ë¬¸ì œ í’€ì´\nâœ”ï¸ ê¸°ìˆ  ë¸”ë¡œê·¸ ìš´ì˜ ê°•ë ¥ ì¶”ì²œ"}
            ]
        },
        "ì˜ì‚¬ (ì „ë¬¸ì˜)": {
            "majors": ["ì˜ì˜ˆê³¼", "ìƒëª…ê³¼í•™ê³¼", "í™”í•™ê³¼"],
            "high_school": ["ğŸ§¬ ìƒëª…ê³¼í•™ I/II", "âš—ï¸ í™”í•™ I/II", "ğŸ“ ë¯¸ì ë¶„", "ğŸ‡¬ğŸ‡§ ì˜ì–´"],
            "roadmap": [
                {"step": "1ï¸âƒ£ ì˜ëŒ€ ì…í•™ (ì˜ˆê³¼+ë³¸ê³¼)", "desc": "âœ”ï¸ ì´ 6ë…„ ê³¼ì • (ìœ ê¸‰ ì—†ì´ ì§„ê¸‰í•˜ê¸°)\nâœ”ï¸ ì˜ì‚¬ êµ­ê°€ê³ ì‹œ í•©ê²©"},
                {"step": "2ï¸âƒ£ ì¸í„´ (ìˆ˜ë ¨ì˜)", "desc": "âœ”ï¸ 1ë…„ê°„ ì—¬ëŸ¬ ê³¼ë¥¼ ëŒë©° ì „ê³µ íƒìƒ‰\nâœ”ï¸ ì  ëª» ìëŠ” ì‹œê¸°"},
                {"step": "3ï¸âƒ£ ë ˆì§€ë˜íŠ¸ (ì „ê³µì˜)", "desc": "âœ”ï¸ 3~4ë…„ê°„ íŠ¹ì • ê³¼ ì „ë¬¸ ìˆ˜ë ¨\nâœ”ï¸ ì „ë¬¸ì˜ ì‹œí—˜ í•©ê²© ì‹œ ì „ë¬¸ì˜ ìê²© ì·¨ë“"}
            ]
        },
        "ì „ëµ ì»¨ì„¤í„´íŠ¸": {
            "majors": ["ê²½ì˜í•™ê³¼", "ê²½ì œí•™ê³¼", "ì‚°ì—…ê³µí•™ê³¼", "í†µê³„í•™ê³¼"],
            "high_school": ["ğŸ’° ê²½ì œ", "ğŸ“Š í™•ë¥ ê³¼ í†µê³„", "ğŸ‡¬ğŸ‡§ ì˜ì–´(íšŒí™”)", "ğŸ—£ï¸ í™”ë²•ê³¼ ì‘ë¬¸"],
            "roadmap": [
                {"step": "1ï¸âƒ£ í•™íšŒ í™œë™ (RA)", "desc": "âœ”ï¸ ëŒ€í•™ ë‚´ ê²½ì˜ ì „ëµ í•™íšŒ í•„ìˆ˜\nâœ”ï¸ ë…¼ë¦¬ì  ë¬¸ì œ í•´ê²°(Case Interview) í›ˆë ¨"},
                {"step": "2ï¸âƒ£ ì¸í„´ì‹­ (Intern)", "desc": "âœ”ï¸ ì»¨ì„¤íŒ… íŒ RA(Research Assistant) ê·¼ë¬´\nâœ”ï¸ ì—…ê³„ ìš©ì–´ì™€ ì—…ë¬´ ë°©ì‹ ì²´ë“"},
                {"step": "3ï¸âƒ£ ì •ê·œ ì…ì‚¬", "desc": "âœ”ï¸ Mock Interview(ëª¨ì˜ ë©´ì ‘) ë¬´í•œ ë°˜ë³µ\nâœ”ï¸ ì˜ì–´ í”„ë ˆì  í…Œì´ì…˜ ëŠ¥ë ¥ í•„ìˆ˜"}
            ]
        }
    }
    
    return df, career_guide

df, career_guide = load_data()

# -----------------------------------------------------------------------------
# 3. ì‚¬ì´ë“œë°” (ê³µí†µ í•„í„°)
# -----------------------------------------------------------------------------
with st.sidebar:
    st.header("ğŸ¯ ë‚´ë¹„ê²Œì´ì…˜")
    st.info("ì´ ì•±ì€ í•™ìƒë“¤ì˜ ì§„ë¡œ ì„¤ê³„ë¥¼ ë•ê¸° ìœ„í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.")
    
    # ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™”
    if 'holland_code' not in st.session_state:
        st.session_state['holland_code'] = 'R' # ê¸°ë³¸ê°’
    if 'user_vector' not in st.session_state:
        st.session_state['user_vector'] = [20, 20, 20, 20, 20]

    st.divider()
    st.markdown("**Created by Plant the Seed ğŸŒ±**")

# -----------------------------------------------------------------------------
# 4. ë©”ì¸ ì½˜í…ì¸  (íƒ­ êµ¬ì„±)
# -----------------------------------------------------------------------------
st.title("ğŸ§­ ì§„ë¡œ ì„¤ê³„ ë‚˜ì¹¨ë°˜ (Career Compass)")
st.markdown("##### ì ì„± ë°œê²¬ë¶€í„° ì…ì‹œ ì „ëµê¹Œì§€, ì›ìŠ¤í†± ì§„ë¡œ ì†”ë£¨ì…˜")

tab1, tab2, tab3, tab4 = st.tabs([
    "1ï¸âƒ£ í™€ë€ë“œ ì ì„± ê²€ì‚¬", 
    "2ï¸âƒ£ ê°€ì¹˜ê´€ ë°¸ëŸ°ìŠ¤", 
    "3ï¸âƒ£ AI ì§ì—… ì¶”ì²œ", 
    "ğŸ“š ì§„ë¡œÂ·ì§„í•™ ë°±ê³¼"
])

# =============================================================================
# [TAB 1] í™€ë€ë“œ ì ì„± ê²€ì‚¬
# =============================================================================
with tab1:
    st.subheader("ğŸ•µï¸â€â™€ï¸ ë‚˜ì˜ í¥ë¯¸ ìœ í˜• ì°¾ê¸° (RIASEC)")
    st.write("ì§ˆë¬¸ì— ëŒ€í•œ í¥ë¯¸ë„ë¥¼ **1ì (ì‹«ìŒ)**ì—ì„œ **5ì (ë§¤ìš° ì¢‹ìŒ)** ì‚¬ì´ë¡œ ì„ íƒí•´ì£¼ì„¸ìš”.")
    
    c1, c2 = st.columns(2)
    with c1:
        r = st.slider("ğŸ”§ [R] ê¸°ê³„, ë„êµ¬, ë¡œë´‡ ì¡°ë¦½í•˜ê¸°", 1, 5, 3)
        i = st.slider("ğŸ”¬ [I] ìˆ˜í•™ ë¬¸ì œ í’€ê¸°, ê³¼í•™ ì‹¤í—˜í•˜ê¸°", 1, 5, 3)
        a = st.slider("ğŸ¨ [A] ê·¸ë¦¼ ê·¸ë¦¬ê¸°, ê¸€ì“°ê¸°, ì•…ê¸° ì—°ì£¼", 1, 5, 3)
    with c2:
        s = st.slider("ğŸ¤ [S] ì¹œêµ¬ ê³ ë¯¼ ë“¤ì–´ì£¼ê¸°, ê°€ë¥´ì¹˜ê¸°", 1, 5, 3)
        e = st.slider("ğŸ¤ [E] ë°˜ì¥ ì„ ê±° ë‚˜ê°€ê¸°, ë°œí‘œí•˜ê¸°", 1, 5, 3)
        c = st.slider("ğŸ—‚ï¸ [C] ê³„íší‘œ ì§œê¸°, ê·œì¹™ ì§€í‚¤ê¸°", 1, 5, 3)
        
    # ê²°ê³¼ ê³„ì‚°
    scores = {'R': r, 'I': i, 'A': a, 'S': s, 'E': e, 'C': c}
    top_code = sorted(scores.items(), key=lambda x: x[1], reverse=True)[0][0]
    st.session_state['holland_code'] = top_code
    
    st.divider()
    st.success(f"ğŸ‰ ë‹¹ì‹ ì˜ ëŒ€í‘œ ì ì„± ì½”ë“œëŠ” **[{top_code}í˜•]** ì…ë‹ˆë‹¤!")
    st.caption("â€» ê²°ê³¼ëŠ” 'AI ì§ì—… ì¶”ì²œ' íƒ­ì— ìë™ ë°˜ì˜ë©ë‹ˆë‹¤.")

# =============================================================================
# [TAB 2] ê°€ì¹˜ê´€ ë°¸ëŸ°ìŠ¤ ì„¤ì •
# =============================================================================
with tab2:
    st.subheader("âš–ï¸ ì§ì—… ê°€ì¹˜ê´€ ì„¤ì •")
    st.write("ì§ì—… ì„ íƒ ì‹œ **ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ìš”ì†Œ**ì˜ ë¹„ì¤‘ì„ ì¡°ì ˆí•˜ì„¸ìš”.")

    col_val1, col_val2 = st.columns([1, 1])
    
    with col_val1:
        v_money = st.slider("ğŸ’° ëˆ (Money)", 0, 100, 50)
        v_wlb = st.slider("ğŸ§˜ ì›Œë¼ë°¸ (WLB)", 0, 100, 50)
        v_culture = st.slider("ğŸ¨ ë¬¸í™” (Culture)", 0, 100, 20)
        v_loc = st.slider("ğŸ“ ê·¼ë¬´ì§€ (Location)", 0, 100, 30)
        v_stable = st.slider("ğŸ›¡ï¸ ì•ˆì •ì„± (Stability)", 0, 100, 50)

    # ë²¡í„° ì •ê·œí™” ë° ì €ì¥
    total = v_money + v_wlb + v_culture + v_loc + v_stable
    if total == 0: total = 1
    user_vec = [(x/total)*100 for x in [v_money, v_wlb, v_culture, v_loc, v_stable]]
    st.session_state['user_vector'] = user_vec

    with col_val2:
        # ì‹œê°í™”
        fig = go.Figure(go.Scatterpolar(
            r=user_vec + [user_vec[0]],
            theta=['ëˆ', 'ì›Œë¼ë°¸', 'ë¬¸í™”', 'ê·¼ë¬´ì§€', 'ì•ˆì •ì„±', 'ëˆ'],
            fill='toself',
            name='ë‚˜ì˜ ê°€ì¹˜ê´€',
            line_color='#4285F4'
        ))
        fig.update_layout(polar=dict(radialaxis=dict(visible=True, range=[0, 40])), showlegend=False, height=300)
        st.plotly_chart(fig, use_container_width=True)

# =============================================================================
# [TAB 3] AI ì§ì—… ì¶”ì²œ
# =============================================================================
with tab3:
    st.subheader("ğŸ¯ ë°ì´í„° ê¸°ë°˜ ì§ì—… ì¶”ì²œ")
    
    if st.button("ğŸš€ ë¶„ì„ ê²°ê³¼ ë³´ê¸°", type="primary"):
        # ìœ ì‚¬ë„ ê³„ì‚°
        def calc_score(row):
            job_vec = np.array([row['Money'], row['WLB'], row['Culture'], row['Location'], row['Stability']])
            user_vec = np.array(st.session_state['user_vector'])
            return 100 - np.linalg.norm(job_vec - user_vec)

        df['Score'] = df.apply(calc_score, axis=1)
        
        # 1. ê°€ì¹˜ê´€ ë§¤ì¹­
        best_match = df.sort_values('Score', ascending=False).head(3)
        
        # 2. ì ì„± ë§¤ì¹­
        code = st.session_state['holland_code']
        holland_match = df[df['Holland_Code'].str.contains(code)].sort_values('Score', ascending=False).head(3)

        c1, c2 = st.columns(2)
        with c1:
            st.markdown(f"### ğŸ† ê°€ì¹˜ê´€ ë§¤ì¹­ TOP 3")
            for _, row in best_match.iterrows():
                st.info(f"**{row['ì§ì—…êµ°']}** (ì¼ì¹˜ë„: {row['Score']:.1f}%)")
        
        with c2:
            st.markdown(f"### ğŸ§© ì ì„±({code}í˜•) ë§¤ì¹­ TOP 3")
            if not holland_match.empty:
                for _, row in holland_match.iterrows():
                    st.success(f"**{row['ì§ì—…êµ°']}** (ì¼ì¹˜ë„: {row['Score']:.1f}%)")
            else:
                st.warning("í•´ë‹¹ ìœ í˜•ì˜ ì§ì—… ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.")

# =============================================================================
# [TAB 4] ì§„ë¡œÂ·ì§„í•™ ë°±ê³¼ (ëª¨ë“  ì •ë³´ í†µí•©)
# =============================================================================
with tab4:
    st.subheader("ğŸ“š ì§„ë¡œÂ·ì§„í•™ ê°€ì´ë“œë¶")
    st.write("ëª©í‘œ ì§ì—…ì„ ì„ íƒí•˜ë©´ **[ê³ êµ ê³¼ëª© - ëŒ€í•™ ì „ê³µ - ì¤€ë¹„ ë¡œë“œë§µ]**ì„ í•œëˆˆì— ë³´ì—¬ì¤ë‹ˆë‹¤.")
    
    # 1. ì§ì—… ì„ íƒ
    job_list = list(career_guide.keys())
    selected_job = st.selectbox("ğŸ” ë¶„ì„í•  ì§ì—…ì„ ì„ íƒí•˜ì„¸ìš”:", job_list)
    
    if selected_job:
        data = career_guide[selected_job]
        
        st.divider()
        st.markdown(f"## ğŸš© **{selected_job}** ë§ˆìŠ¤í„° í”Œëœ")
        
        # 2. í•™ì—… ê°€ì´ë“œ (ì „ê³µ & ê³ êµ ê³¼ëª©)
        col_edu1, col_edu2 = st.columns(2)
        
        with col_edu1:
            st.markdown("""<div class="info-box">
                <h4>ğŸ“ ì¶”ì²œ í•™ê³¼ (University)</h4>
                <ul>""" + "".join([f"<li>{m}</li>" for m in data['majors']]) + """</ul>
            </div>""", unsafe_allow_html=True)
            
        with col_edu2:
            st.markdown("""<div class="info-box">
                <h4>ğŸ« ê³ êµ ì„ íƒ ê³¼ëª© (High School)</h4>
                <ul>""" + "".join([f"<li>{s}</li>" for s in data['high_school']]) + """</ul>
            </div>""", unsafe_allow_html=True)
            
        # 3. ì»¤ë¦¬ì–´ ë¡œë“œë§µ
        st.write("")
        st.subheader("ğŸ›¤ï¸ ë‹¨ê³„ë³„ ì¤€ë¹„ ë¡œë“œë§µ")
        
        for idx, step in enumerate(data['roadmap']):
            with st.expander(f"STEP {idx+1}: {step['step']}", expanded=True):
                st.write(step['desc'])
                
    else:
        st.info("ğŸ‘† ìœ„ì—ì„œ ì§ì—…ì„ ì„ íƒí•˜ë©´ ìƒì„¸ ì •ë³´ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.")
