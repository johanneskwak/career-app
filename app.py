import streamlit as st
import pandas as pd
import plotly.graph_objects as go

# -----------------------------------------------------------------------------
# 1. 페이지 설정 & 스타일
# -----------------------------------------------------------------------------
st.set_page_config(
    page_title="Career Balance Sheet",
    page_icon="⚖️",
    layout="wide",
    initial_sidebar_state="expanded"
)

# -----------------------------------------------------------------------------
# 2. 데이터 로드 (내장 데이터 사용 - 100% 안전)
# -----------------------------------------------------------------------------
@st.cache_data
def load_data():
    data = {
        '직업군': [
            '전략 컨설턴트', '외국계 투자은행(IB)', '대형 로펌 변호사', '공인회계사(Big4)', '사모펀드(PE) 심사역',
            '네카라쿠배 개발자', '유니콘 스타트업 직원', '게임 개발자', 'AI 연구원/엔지니어', '대기업 전략기획',
            '증권사 브로커/PB', '시중은행 행원', '공기업 (메이저)', '공기업 (지방근무)', '7/9급 공무원',
            '5급 행정고시 사무관', '초등/중등 교사', '대학교 교직원', '대학 교수', '국책연구소 연구원',
            '의사 (전문의)', '치과의사', '약사', '간호사 (대학병원)', '수의사', '한의사',
            '방송국 PD', '방송기자/아나운서', '웹툰/웹소설 작가', '엔터테인먼트 A&R', '광고기획자 (AE)',
            '패션 MD/바이어', '항공기 조종사(파일럿)', '객실 승무원', '호텔리어/지배인', '셰프/요리사',
            '반도체 엔지니어', '배터리/2차전지 연구원', '자동차 엔지니어', '석유화학/정유 엔지니어', '제약/바이오 연구원',
            '건설/토목 엔지니어', '스마트팜 전문가', '스포츠 에이전트/마케터', '전시/공연 기획자', '통번역사',
            '노무사', '감정평가사', '관세사', '변리사', '1인 크리에이터/유튜버',
            '워케이션 프리랜서', '공간/인테리어 디자이너', '메타버스/VR 크리에이터', '데이터 사이언티스트'
        ],
        'Money': [
            50, 55, 50, 40, 50, 35, 25, 35, 40, 40, 45, 35, 25, 25, 15, 25, 15, 20, 30, 30,
            45, 45, 30, 30, 35, 40, 25, 30, 35, 15, 25, 25, 45, 25, 15, 25, 45, 40, 40, 45,
            35, 40, 30, 25, 20, 30, 35, 40, 35, 45, 25, 20, 25, 30, 45
        ],
        'WLB': [
            5, 5, 5, 10, 10, 20, 15, 15, 15, 15, 10, 25, 30, 30, 35, 10, 30, 35, 20, 30,
            10, 15, 30, 10, 20, 25, 5, 5, 15, 10, 10, 10, 15, 15, 15, 5, 10, 15, 20, 20,
            25, 5, 25, 10, 10, 25, 25, 20, 25, 10, 10, 35, 10, 20, 20
        ],
        'Culture': [
            10, 5, 10, 10, 10, 15, 35, 25, 15, 10, 10, 10, 10, 5, 5, 10, 15, 10, 15, 10,
            10, 10, 10, 10, 10, 10, 30, 15, 25, 35, 25, 20, 10, 15, 15, 15, 10, 15, 10, 5,
            15, 10, 15, 20, 25, 15, 10, 5, 10, 10, 45, 20, 25, 25, 15
        ],
        'Location': [
            20, 20, 20, 20, 15, 10, 10, 10, 10, 15, 15, 10, 10, 10, 10, 25, 10, 10, 5, 10,
            15, 10, 10
